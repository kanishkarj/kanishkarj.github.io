<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f628065b851287e306e5.css">@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin "),local("IBM Plex Sans-Thin"),url(/static/ibm-plex-sans-latin-100-245539db8ee56425757ef728eda8194e.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100-9a582f3a304f421eca4027517706843c.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin italic"),local("IBM Plex Sans-Thinitalic"),url(/static/ibm-plex-sans-latin-100italic-3c34cf080b38f5fb1d4c59ffa45b3967.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100italic-1ea7c5d21b5956b602bdf9656cfb353f.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light "),local("IBM Plex Sans-Extra Light"),url(/static/ibm-plex-sans-latin-200-bf72c8412ab06c393f52efc5beb26ea7.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200-67524c36348a323f78f2845e3aafc2d4.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light italic"),local("IBM Plex Sans-Extra Lightitalic"),url(/static/ibm-plex-sans-latin-200italic-bbc2d55223638ce450424a917e1104b2.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200italic-52df25607ec284ca361ae50ba24b3580.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light "),local("IBM Plex Sans-Light"),url(/static/ibm-plex-sans-latin-300-9e1c48af24191f6ea8aede14957c5d01.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300-10bb6a0ae6dc8000d999ab622a45e281.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light italic"),local("IBM Plex Sans-Lightitalic"),url(/static/ibm-plex-sans-latin-300italic-c76f2ab53673e964b6e6734c1c455761.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300italic-d3566d5bb4f31d86bfb9fda09563b416.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular "),local("IBM Plex Sans-Regular"),url(/static/ibm-plex-sans-latin-400-263d6267533501f58c33b12b382e3abb.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400-a2c56f946488a9a267ba6ba21471a217.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular italic"),local("IBM Plex Sans-Regularitalic"),url(/static/ibm-plex-sans-latin-400italic-89a93a1bdde48c7bb104150de88affce.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400italic-272f86114c980c52c131dfc3b4ae3276.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium "),local("IBM Plex Sans-Medium"),url(/static/ibm-plex-sans-latin-500-0866c24487514ad726738fb24f8e015b.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500-f6d5c5d5b849796d6a8f5a2953b60753.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium italic"),local("IBM Plex Sans-Mediumitalic"),url(/static/ibm-plex-sans-latin-500italic-ffd12d59339823b8cf53b9f99b47d87c.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500italic-ccd41bd1a5bfa8bad2cd8d35fdaeb3d1.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold "),local("IBM Plex Sans-SemiBold"),url(/static/ibm-plex-sans-latin-600-7852d4dc26ef44df58e23dc0b9722d6f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600-337b16517a230dc830b84dc6e6167b68.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold italic"),local("IBM Plex Sans-SemiBolditalic"),url(/static/ibm-plex-sans-latin-600italic-17e5379fd9a99b9bcb26ea983f391b6a.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600italic-6f4ba6aa87fa99d5bc2b90a7b40a0ded.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold "),local("IBM Plex Sans-Bold"),url(/static/ibm-plex-sans-latin-700-c9983d3d04f3ed6c2eafee1db1d24e06.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700-b8809d619a33eb825b0450281ff752e7.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold italic"),local("IBM Plex Sans-Bolditalic"),url(/static/ibm-plex-sans-latin-700italic-02954beec9e742bb1f3ae27b7e7cb71f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700italic-72e9af409ddafc63a5dd380e34758560.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.24.47"/><link rel="alternate" type="application/rss+xml" title="Kanishkar J" href="/rss.xml"/><title data-react-helmet="true">Rust Compiler Internals : Mid-level Intermediate Representation (MIR) | Kanishkar J</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><meta data-react-helmet="true" name="description" content="Rust is a system programming language developed by Mozilla. The language boasts the performance of C/C++ with the safety and ease of use of…"/><meta data-react-helmet="true" name="image" content="https://kanishkarj.github.io/banner.jpg"/><meta data-react-helmet="true" property="og:title" content="Rust Compiler Internals : Mid-level Intermediate Representation (MIR)"/><meta data-react-helmet="true" property="og:url" content="https://kanishkarj.github.io/rust-internals-mir"/><meta data-react-helmet="true" property="og:description" content="Rust is a system programming language developed by Mozilla. The language boasts the performance of C/C++ with the safety and ease of use of…"/><meta data-react-helmet="true" property="og:image" content="https://kanishkarj.github.io/banner.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image:alt" content="Rust is a system programming language developed by Mozilla. The language boasts the performance of C/C++ with the safety and ease of use of…"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Rust Compiler Internals : Mid-level Intermediate Representation (MIR)"/><meta data-react-helmet="true" name="twitter:url" content="https://kanishkarj.github.io/rust-internals-mir"/><meta data-react-helmet="true" name="twitter:description" content="Rust is a system programming language developed by Mozilla. The language boasts the performance of C/C++ with the safety and ease of use of…"/><meta data-react-helmet="true" name="twitter:image" content="https://kanishkarj.github.io/banner.jpg"/><meta data-react-helmet="true" name="twitter:image:alt" content="Rust is a system programming language developed by Mozilla. The language boasts the performance of C/C++ with the safety and ease of use of…"/><meta data-react-helmet="true" name="twitter:creator" content="@lekoarts_de"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  window.excludeGAPaths=[/^(?:\/preview\/(?:(?!(?:\/|^)\.).)*?)$/];
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-119110567-3',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-119110567-3', 'auto', {"sampleRate":100,"siteSpeedSampleRate":10});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/favicon-32x32.png?v=354c19db49c41fb72ae0625ec1e746db" type="image/png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#6B46C1"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=354c19db49c41fb72ae0625ec1e746db"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=354c19db49c41fb72ae0625ec1e746db"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=354c19db49c41fb72ae0625ec1e746db"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=354c19db49c41fb72ae0625ec1e746db"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=354c19db49c41fb72ae0625ec1e746db"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=354c19db49c41fb72ae0625ec1e746db"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=354c19db49c41fb72ae0625ec1e746db"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=354c19db49c41fb72ae0625ec1e746db"/><link as="script" rel="preload" href="/webpack-runtime-71c978c9f8926261b3f0.js"/><link as="script" rel="preload" href="/framework-376edee25eb5f5cd8260.js"/><link as="script" rel="preload" href="/app-3b11d15b71f05043dbfa.js"/><link as="script" rel="preload" href="/styles-c2fe8482057191dca484.js"/><link as="script" rel="preload" href="/e8a65c2ffc4f8972a6a131399a6f41da01e74740-6c29ff1d0ff48596ab25.js"/><link as="script" rel="preload" href="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-ce24480ad79938e1dfa7.js"/><link as="fetch" rel="preload" href="/page-data/rust-internals-mir/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1581887981.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3787687951.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3787687951.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="1hycliv">body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}</style><style data-emotion-css="tm2q0o">*{box-sizing:border-box;}body{margin:0;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="kcr4c7">*{box-sizing:inherit;}html{-webkit-text-size-adjust:100%;}img{border-style:none;}pre{font-family:monospace;font-size:1em;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text,#2d3748);color:var(--theme-ui-colors-background,#fff);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion-css="1g597hz">.css-1g597hz{border:0;-webkit-clip:react(0 0 0 0);clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1g597hz:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading,#000);color:var(--theme-ui-colors-background,#fff);z-index:1;width:auto;height:auto;-webkit-clip:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1g597hz">Skip to content</a><style data-emotion-css="1jrqzhj">.css-1jrqzhj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width:640px){.css-1jrqzhj{padding:2rem;}}</style><div class="css-1jrqzhj"><style data-emotion-css="1wt4r56">.css-1wt4r56{margin-bottom:4rem;}@media screen and (min-width:640px){.css-1wt4r56{margin-bottom:8rem;}}</style><header class="css-1wt4r56"><style data-emotion-css="1eswzqe">.css-1eswzqe{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><style data-emotion-css="190uhut">.css-190uhut{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-190uhut"><style data-emotion-css="dz3ojy">.css-dz3ojy{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="Kanishkar J - Back to home" class="css-dz3ojy" href="/"><style data-emotion-css="1kmktz0">.css-1kmktz0{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width:640px){.css-1kmktz0{font-size:1.875rem;}}</style><h1 class="css-1kmktz0">Kanishkar J</h1></a><style data-emotion-css="af3ja4">.css-af3ja4{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}.css-af3ja4:hover,.css-af3ja4:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-af3ja4"><style data-emotion-css="iiu7h7">.css-iiu7h7{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent,transparent);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon,#2d3748);}.css-iiu7h7:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;-webkit-transition:transform 0.45s ease;transition:transform 0.45s ease;}.css-iiu7h7:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),0 23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),-23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748);-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-iiu7h7"></div></button></div><style data-emotion-css="1kvspmd">.css-1kvspmd{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide,#cbd5e0);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-1kvspmd a{color:var(--theme-ui-colors-secondary,#5f6c80);}.css-1kvspmd a:hover{color:var(--theme-ui-colors-heading,#000);}</style><div class="css-1kvspmd"><style data-emotion-css="nrb238">.css-nrb238{font-size:1rem;}.css-nrb238 a:not(:last-of-type){margin-right:1rem;}@media screen and (min-width:640px){.css-nrb238{font-size:18px;}}.css-nrb238 .active{color:var(--theme-ui-colors-heading,#000);}</style><nav class="css-nrb238"><style data-emotion-css="688a3f">.css-688a3f{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-688a3f:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-688a3f" href="/blog">Blog</a><a class="css-688a3f" href="/about">About</a><a class="css-688a3f" href="/tags">Tags</a></nav><style data-emotion-css="e5k4e3">.css-e5k4e3{font-size:1rem;}.css-e5k4e3 a:not(:first-of-type){margin-left:1rem;}@media screen and (min-width:640px){.css-e5k4e3{font-size:18px;}}</style><div class="css-e5k4e3"><a href="https://twitter.com/_kanishkarj_" class="css-688a3f">Twitter</a><a href="https://github.com/kanishkarj" class="css-688a3f">Github</a></div></div></header><style data-emotion-css="1igdbgi">.css-1igdbgi [data-name='live-editor']{font-size:1rem;}.css-1igdbgi [data-name='live-editor'] textarea,.css-1igdbgi [data-name='live-editor'] pre{padding:1rem !important;}.css-1igdbgi [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-1igdbgi .prism-code{font-size:1rem;padding:1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);overflow:initial;float:left;min-width:100%;margin-bottom:0;}@media screen and (min-width:640px){.css-1igdbgi .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-1igdbgi .prism-code{font-size:1.25rem;}}.css-1igdbgi .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1igdbgi .token{display:inline-block;}.css-1igdbgi p > code,.css-1igdbgi li > code{background-color:var(--theme-ui-colors-gray-2,#edf2f7);color:var(--theme-ui-colors-gray-8,#2d3748);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-1igdbgi .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);overflow:auto;border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1igdbgi .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1igdbgi .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1igdbgi .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1igdbgi .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;}.css-1igdbgi .gatsby-highlight pre.language-{margin-top:0;}.css-1igdbgi .gatsby-highlight pre.language-noLineNumbers{margin-top:0;}.css-1igdbgi .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1igdbgi .gatsby-highlight pre[class~="language-javascript"]:before,.css-1igdbgi .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-1igdbgi .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1igdbgi .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1igdbgi .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1igdbgi .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1igdbgi .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1igdbgi .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1igdbgi .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1igdbgi .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-1igdbgi .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-1igdbgi .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1igdbgi .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1igdbgi .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1igdbgi .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1igdbgi .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1igdbgi .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1igdbgi .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1igdbgi .gatsby-highlight pre[class~='language-json']:before,.css-1igdbgi .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1igdbgi .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1igdbgi .gatsby-highlight > code[class*="language-"],.css-1igdbgi .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1igdbgi .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1igdbgi .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1igdbgi .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1igdbgi .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1igdbgi .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1igdbgi [data-name='live-preview'],.css-1igdbgi [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-1igdbgi [data-name='live-preview'],.css-1igdbgi [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-1igdbgi [data-name='live-preview'],.css-1igdbgi [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-1igdbgi [data-name='live-preview'],.css-1igdbgi [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1igdbgi .token-line{padding-right:1rem;}.css-1igdbgi .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-1igdbgi .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}</style><style data-emotion-css="1fd9gor">.css-1fd9gor{box-sizing:border-box;margin:0;min-width:0;}.css-1fd9gor [data-name='live-editor']{font-size:1rem;}.css-1fd9gor [data-name='live-editor'] textarea,.css-1fd9gor [data-name='live-editor'] pre{padding:1rem !important;}.css-1fd9gor [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-1fd9gor .prism-code{font-size:1rem;padding:1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);overflow:initial;float:left;min-width:100%;margin-bottom:0;}@media screen and (min-width:640px){.css-1fd9gor .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-1fd9gor .prism-code{font-size:1.25rem;}}.css-1fd9gor .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1fd9gor .token{display:inline-block;}.css-1fd9gor p > code,.css-1fd9gor li > code{background-color:var(--theme-ui-colors-gray-2,#edf2f7);color:var(--theme-ui-colors-gray-8,#2d3748);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-1fd9gor .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);overflow:auto;border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1fd9gor .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1fd9gor .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1fd9gor .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1fd9gor .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;}.css-1fd9gor .gatsby-highlight pre.language-{margin-top:0;}.css-1fd9gor .gatsby-highlight pre.language-noLineNumbers{margin-top:0;}.css-1fd9gor .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1fd9gor .gatsby-highlight pre[class~="language-javascript"]:before,.css-1fd9gor .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-1fd9gor .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1fd9gor .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1fd9gor .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1fd9gor .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1fd9gor .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1fd9gor .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1fd9gor .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1fd9gor .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-1fd9gor .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-1fd9gor .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1fd9gor .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1fd9gor .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1fd9gor .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1fd9gor .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1fd9gor .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1fd9gor .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1fd9gor .gatsby-highlight pre[class~='language-json']:before,.css-1fd9gor .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1fd9gor .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1fd9gor .gatsby-highlight > code[class*="language-"],.css-1fd9gor .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1fd9gor .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1fd9gor .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1fd9gor .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1fd9gor .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1fd9gor .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1fd9gor [data-name='live-preview'],.css-1fd9gor [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-1fd9gor [data-name='live-preview'],.css-1fd9gor [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-1fd9gor [data-name='live-preview'],.css-1fd9gor [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-1fd9gor [data-name='live-preview'],.css-1fd9gor [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1fd9gor .token-line{padding-right:1rem;}.css-1fd9gor .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-1fd9gor .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}</style><div id="skip-nav" class=" css-1fd9gor"><style data-emotion-css="19ykez0">.css-19ykez0{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-19ykez0{font-size:2.25rem;}}@media screen and (min-width:768px){.css-19ykez0{font-size:3rem;}}</style><h2 class="css-19ykez0">Rust Compiler Internals : Mid-level Intermediate Representation (MIR)</h2><style data-emotion-css="1fkzbc2">.css-1fkzbc2{color:var(--theme-ui-colors-secondary,#5f6c80);margin-top:1rem;font-size:1rem;}.css-1fkzbc2 a{color:var(--theme-ui-colors-secondary,#5f6c80);}@media screen and (min-width:640px){.css-1fkzbc2{font-size:1rem;}}@media screen and (min-width:768px){.css-1fkzbc2{font-size:1.25rem;}}</style><p class="css-1fkzbc2"><time>25.12.2019</time> — <a class="css-688a3f" href="/tags/compilers-and-runtimes">Compilers and Runtimes</a>, <a class="css-688a3f" href="/tags/rust">Rust</a> — <span>6<!-- --> min read</span></p><style data-emotion-css="f0b8g7">.css-f0b8g7{margin-top:4rem;margin-bottom:4rem;}.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0,0,0,0.15) 0px 32px 32px 0px,rgba(0,0,0,0.15) 0px 16px 16px 0px,rgba(0,0,0,0.15) 0px 8px 8px 0px,rgba(0,0,0,0.15) 0px 4px 4px 0px;}@media screen and (min-width:640px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width:768px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-f0b8g7"><style data-emotion-css="1bkk5q4">.css-1bkk5q4{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-1bkk5q4{font-size:1rem;}}@media screen and (min-width:768px){.css-1bkk5q4{font-size:1.25rem;}}</style><p class="css-1bkk5q4">Rust is a system programming language developed by Mozilla. The language boasts the performance of C/C++ with the safety and ease of use of languages like Python. Rust achieves this by enforcing a strong type system and static analysis of the source code.</p><p class="css-1bkk5q4">This article provides an overview of the compilation process and structure of Rust compiler. The main focus will be on the Mid-level Intermediate Representation (MIR) and understanding it.</p><style data-emotion-css="12k12li">.css-12k12li{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-12k12li{font-size:2.25rem;}}@media screen and (min-width:768px){.css-12k12li{font-size:3rem;}}</style><h2 class="css-12k12li">The Borrow checker</h2><p class="css-1bkk5q4">The core tool behind Rust which helps statically ensure that the code is memory and concurrency safe is its borrow checker. It ensures the following properties in the source code : </p><style data-emotion-css="15rlv7r">.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}</style><ul class="css-15rlv7r"><li class="css-0">All variables are initialized before they are used.</li><li class="css-0">You can&#x27;t move the same value twice.</li><li class="css-0">You can&#x27;t move a value while it is borrowed.</li><li class="css-0">You can&#x27;t access a place while it is mutably borrowed (except through the reference).</li><li class="css-0">You can&#x27;t mutate a place while it is immutably borrowed.</li><li class="css-0">and more ...<style data-emotion-css="1od09yo">.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://rust-lang.github.io/rustc-guide/borrow_check.html" class="css-1od09yo">Source</a></li></ul><style data-emotion-css="1gtwvjp">.css-1gtwvjp{border-left-color:var(--theme-ui-colors-primary,#6b46c1);border-left-style:solid;border-left-width:6px;margin-left:0;margin-right:0;padding-left:2rem;}.css-1gtwvjp p{font-style:italic;}</style><blockquote class="css-1gtwvjp"><p class="css-1bkk5q4">Note: When we say move we are referring to the <a href="https://doc.Rust-lang.org/rust-by-example/scope/move.html" class="css-1od09yo">move semantics</a>. Only memory allocated on the heap is moved.</p></blockquote><p class="css-1bkk5q4">A simple example explaining move semantics:</p><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">let mut x = vec![1,2,3] // initializes a vector. Vectors are allocated on heap.</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">let mut y = x; // x moved into y.</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">y.push(5); // works fine</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">x.push(5); // compiler throws an error saying &quot;borrow of moved value: `x`&quot;</span></div></pre></div><p class="css-1bkk5q4">As mentioned earlier; this article does not focus on how safety is guaranteed in Rust, rather on the mechanism which helps make the guarantees.  </p><p class="css-1bkk5q4">More details about the borrow checker <a href="https://rust-lang.github.io/rustc-guide/borrow_check.html" class="css-1od09yo">here</a>.</p><h2 class="css-12k12li">Unsafe Blocks</h2><p class="css-1bkk5q4">All programs that are compiled in Rust are safe, but that doesn&#x27;t imply all safe programs are accepted by Rust. There are times when the programmer knows that the program is safe and won&#x27;t lead to any undefined behaviors, but the Rust compiler may not be able to guarantee that. This is where <a href="https://doc.rust-lang.org/book/ch19-01-unsafe-rust.html" class="css-1od09yo">Unsafe blocks</a> come into the picture.</p><p class="css-1bkk5q4">Unsafe blocks gives programmers some extra functionalities, these code snippets have to be enclosed in unsafe blocks. Unsafe blocks allow developers to :</p><ul class="css-15rlv7r"><li class="css-0">Dereference a raw pointer</li><li class="css-0">Access or modify a mutable static variable</li></ul><p class="css-1bkk5q4">The Unsafe blocks do not bypass the borrow checker though. Bare metal programming (Embedded systems) generally use Unsafe blocks. The Standard library of Rust uses Unsafe blocks extensively. Though it might seem that the safety guarantees are compromised, It is not so. Unsafe does not imply Undefined behavior, it just means that in that section of code the responsibility of safety is on the developer and the compiler cannot make any strong guarantees.</p><h2 class="css-12k12li">Background</h2><p class="css-1bkk5q4">The process of compilation can be understood in two phases:</p><ul class="css-15rlv7r"><li class="css-0">Parsing</li><li class="css-0">Machine code generation</li></ul><p class="css-1bkk5q4">Parsing phase is the phase where the source code is analyzed for errors and is converted to a simplified form so that it can be translated to machine code easily. All the safety checks are done in this phase.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:301px">
      <a class="gatsby-resp-image-link css-1od09yo" href="/static/81647c510f067281f55855720d6ab1ee/e8ddc/compilation-steps.jpg" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:153.58361774744026%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAfABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHuVDLAM2MoYf/EABgQAQEBAQEAAAAAAAAAAAAAAAEQABEh/9oACAEBAAEFAuu7SLgZ7gn/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAYEAACAwAAAAAAAAAAAAAAAAAAMQEQMP/aAAgBAQAGPwJXAsP/xAAcEAEAAQQDAAAAAAAAAAAAAAABABARMUEhUXH/2gAIAQEAAT8hSgPZBviOdqocWJsNEcse0//aAAwDAQACAAMAAAAQk8Ew/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAQACAwEBAAAAAAAAAAAAAREAIRAxUXFh/9oACAEBAAE/EEO89uJKk/cAVCfmT3K3Nd6wWDA9usACAHzLAlbvzGRWHjw5tJuYZs6b2vH/2Q==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="compilation steps" title="compilation steps" src="/static/81647c510f067281f55855720d6ab1ee/e8ddc/compilation-steps.jpg" srcSet="/static/81647c510f067281f55855720d6ab1ee/48335/compilation-steps.jpg 293w,/static/81647c510f067281f55855720d6ab1ee/e8ddc/compilation-steps.jpg 301w" sizes="(max-width: 301px) 100vw, 301px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><center><a href="https://blog.Rust-lang.org/2016/04/19/MIR.html" class="css-1od09yo">Source</a></center><ul class="css-15rlv7r"><li class="css-0">HIR : High-Level Intermediate Representation, It is a compiler-friendly representation of the abstract syntax tree (AST) that is generated after parsing, macro expansion, and name resolution</li><li class="css-0">MIR : Mid-Level Intermediate Representation, It is generated from HIR and borrow checking is done on this representation.</li></ul><p class="css-1bkk5q4">The Parsing phase consists of Rust Source, HIR and MIR.</p><h2 class="css-12k12li">Introduction To MIR</h2><p class="css-1bkk5q4">MIR makes borrow checking easier, it helps have faster compile times and have better execution times. MIR enables more flexible borrowing rules than earlier which makes writing Rust code much easier.</p><p class="css-1bkk5q4">MIR representation simplifies the code and makes it into a very primitive form to make the analysis easier. It is not recommended to use the MIR output of a code snippet to develop tools for analysis and profiling directly. MIR parsing can be done by accessing the Rust compiler internals in which the MIR is represented in data structures.  </p><h2 class="css-12k12li">Viewing MIR</h2><p class="css-1bkk5q4">If you wish to view the MIR output locally on your system, run the following on the command-line : </p><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">rustc main.rs --emit</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">mir </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># where main.rs is the code file</span></div></pre></div><p class="css-1bkk5q4">An easier way is to write code on <a href="https://doc.rust-lang.org/book/ch19-01-unsafe-rust.html" class="css-1od09yo">Rust Playground</a> and check the MIR output right there (Option to view MIR output is available in the dropdown menu next to the <em class="css-0">Run</em> button).</p><h2 class="css-12k12li">Understanding MIR</h2><p class="css-1bkk5q4">The MIR output actually corresponds to a <a href="https://en.wikipedia.org/wiki/Control-flow_graph" class="css-1od09yo">control flow graph</a>. It is very similar to a flow chart. It helps understand program flow and </p><p class="css-1bkk5q4">Before looking into MIR, Let&#x27;s look into some definitions which help understand it.</p><ul class="css-15rlv7r"><li class="css-0">statements: lines with one successor (sequentially). </li><li class="css-0">terminators: actions with potentially multiple successors.</li><li class="css-0">Basic blocks: A basic unit of the control-flow graph made of a set of statements ending with a terminator (generally represented by <em class="css-0">bbx</em>, x is any positive integer). This whole block executes sequentially and completely.</li><li class="css-0">Locals: Memory locations allocated on the stack (conceptually, at least), such as function arguments, local variables,and temporaries. These are identified by an index, written with a leading underscore, like <em class="css-0">_1</em>. There is also a special&quot;local&quot; <em class="css-0">_0</em>, which corresponds to the return value.</li><li class="css-0">Places: expressions that identify a location in memory, like <em class="css-0">_1</em> or <em class="css-0">_1.f</em> (For the fields of a value).</li><li class="css-0">Rvalues: expressions that produce a value. The &quot;R&quot; stands for the fact that these are the &quot;right-hand side&quot; of an assignment.</li></ul><p class="css-1bkk5q4"><a href="https://rust-lang.github.io/rustc-guide/mir/index.html" class="css-1od09yo">Source</a></p><p class="css-1bkk5q4">Let&#x27;s take a look at the MIR for a few code samples. Note that we won&#x27;t be looking at the whole MIR translation but only the relevant parts. To view the MIR output, copy paste the code on Rust playground and view it.</p><p class="css-1bkk5q4">The variables in the MIR representation do not have any names, as mentioned above they are represented as <em class="css-0">_x</em> where x is any positive integer.</p><p class="css-1bkk5q4">MIR output generally has comments which make it mostly self-explanatory, but we shall go through a few examples to get a basic understanding of MIR.</p><style data-emotion-css="170hkfz">.css-170hkfz{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-170hkfz{font-size:1.875rem;}}@media screen and (min-width:768px){.css-170hkfz{font-size:2.25rem;}}</style><h3 class="css-170hkfz">Basic Code snippet</h3><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn main() {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut x = 5;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    x = x + 10;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">The MIR representation : </p><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn  main() -&gt; () {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut _0: ();                      // return place in scope 0 at main.rs:1:11: 1:11</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    let mut _1: i32;                     // &quot;x&quot; in scope 0 at main.rs:2:9: 2:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    let mut _2: i32;                     // in scope 0 at main.rs:3:9: 3:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    let mut _3: (i32, bool);             // in scope 0 at main.rs:3:9: 3:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    bb0: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">        StorageLive(_1);                 // bb0[0]: scope 0 at main.rs:2:9: 2:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">        _1 = const 5i32;                 // bb0[1]: scope 0 at main.rs:2:17: 2:18</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">        StorageLive(_2);                 // bb0[2]: scope 1 at main.rs:3:9: 3:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">        _2 = _1;                         // bb0[3]: scope 1 at main.rs:3:9: 3:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">        _3 = CheckedAdd(move _2, const 10i32); // bb0[4]: scope 1 at main.rs:3:9: 3:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">        assert(!move (_3.1: bool), &quot;attempt to add with overflow&quot;) -&gt; bb1; // bb0[5]: scope 1 at main.rs:3:9: 3:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">    bb1: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">        _1 = move (_3.0: i32);           // bb1[0]: scope 1 at main.rs:3:5: 3:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">        StorageDead(_2);                 // bb1[1]: scope 1 at main.rs:3:14: 3:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain">        StorageDead(_1);                 // bb1[2]: scope 0 at main.rs:4:1: 4:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22</span><span class="token plain">        return;                          // bb1[3]: scope 0 at main.rs:4:2: 4:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">A few points to note and understand here : </p><ul class="css-15rlv7r"><li class="css-0"><em class="css-0">_0</em> the return value of the function.</li><li class="css-0">_<em class="css-0">1</em> corresponds to the variable x in source code.</li><li class="css-0"><em class="css-0">_2</em> and <em class="css-0">_3</em> are temporary variables which are used to evaluate the addition in the source code (Line 3 in source code).</li><li class="css-0">StorageLive(<em class="css-0">_1</em>) statement implies that storage has to be allocated for <em class="css-0">_1</em> on the stack.</li><li class="css-0"><code class="css-0">const 5i32</code> is an Rvalue, it is assigned to <em class="css-0">_1</em> (Line 2 in source code).</li><li class="css-0">Line 12 in MIR representation moves <em class="css-0">_1</em> into <em class="css-0">_2</em> for performing the actual addition.</li><li class="css-0">Line 13 in MIR representation adds <em class="css-0">_2</em> and <code class="css-0">const 10i32</code> and stores the result in <em class="css-0">_3</em>.</li><li class="css-0">Notice that <em class="css-0">_3</em> is of type <code class="css-0">tuple (i32, bool)</code>. This is to check integer overflow during addition. The CheckedAdd function stores the resultant value in <em class="css-0">_3.0</em> (the first field in the tuple), and if integer overflow occurred in <em class="css-0">_3.1</em>.</li><li class="css-0">The <code class="css-0">assert(...)</code> checks if overflow occurred and prints &quot;attempt to add with overflow&quot; and exits, else jumps to the basic block <em class="css-0">bb1</em>. Notice that this action is a terminator.</li><li class="css-0">The first statement in <em class="css-0">bb1</em>, moves the result in <em class="css-0">_3</em>.0 into <em class="css-0">_1</em> (variable x).</li><li class="css-0">StorageDead(<em class="css-0">_2</em>) deallocates the space on the stack for <em class="css-0">_2</em>.</li></ul><h3 class="css-170hkfz">Scopes</h3><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn main() {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut y = 1;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    // scope 1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">        let z = 2;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    y = 3;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">The MIR representation :</p><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn  main() -&gt; () {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut _0: ();                      // return place in scope 0 at main.rs:1:11: 1:11</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    let mut _1: i32;                     // &quot;y&quot; in scope 0 at main.rs:2:9: 2:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    scope 1 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">        let _2: i32;                     // &quot;z&quot; in scope 1 at main.rs:4:13: 4:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">        scope 2 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    bb0: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">        StorageLive(_1);                 // bb0[0]: scope 0 at main.rs:2:9: 2:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">        _1 = const 1i32;                 // bb0[1]: scope 0 at main.rs:2:17: 2:18</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">        StorageLive(_2);                 // bb0[2]: scope 1 at main.rs:4:13: 4:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">        _2 = const 2i32;                 // bb0[3]: scope 1 at main.rs:4:17: 4:18</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">        StorageDead(_2);                 // bb0[4]: scope 1 at main.rs:5:5: 5:6</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">        _1 = const 3i32;                 // bb0[5]: scope 1 at main.rs:6:5: 6:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">        StorageDead(_1);                 // bb0[6]: scope 0 at main.rs:7:1: 7:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">        return;                          // bb0[7]: scope 0 at main.rs:7:2: 7:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">Something important to note is how <em class="css-0">_2 (z)</em> is killed (as its scope ends there) before the reassignment of <em class="css-0">_1 (y)</em> to 3 (which is source code is out of <em class="css-0">scope1</em>).</p><h3 class="css-170hkfz">If statements</h3><p class="css-1bkk5q4">A very important thing to not is that, as mentioned above statements in MIR are very primitive, thus keywords like if, for etc are not available. These statements are represented using the terminators mentioned above. The terminators depict a branching in the code flow.</p><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn main() {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let x = 5;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    let y;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    if x == 5 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">        y = 1;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    } else {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">        y = 0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">The Mir Representation :</p><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn  main() -&gt; () {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut _0: ();                      // return place in scope 0 at main.rs:1:11: 1:11</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    let mut _1: i32;                     // &quot;x&quot; in scope 0 at main.rs:2:9: 2:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    let mut _3: bool;                    // in scope 0 at main.rs:5:8: 5:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    let mut _4: i32;                     // in scope 0 at main.rs:5:8: 5:9</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    scope 1 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">        let _2: i32;                     // &quot;y&quot; in scope 1 at main.rs:3:9: 3:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">        scope 2 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">    bb0: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">        StorageLive(_1);                 // bb0[0]: scope 0 at main.rs:2:9: 2:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">        _1 = const 1i32;                 // bb0[1]: scope 0 at main.rs:2:17: 2:18</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">        StorageLive(_2);                 // bb0[2]: scope 1 at main.rs:3:9: 3:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">        StorageLive(_3);                 // bb0[3]: scope 2 at main.rs:5:8: 5:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">        StorageLive(_4);                 // bb0[4]: scope 2 at main.rs:5:8: 5:9</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">        _4 = _1;                         // bb0[5]: scope 2 at main.rs:5:8: 5:9</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">        _3 = Eq(move _4, const 1i32);    // bb0[6]: scope 2 at main.rs:5:8: 5:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain">        StorageDead(_4);                 // bb0[7]: scope 2 at main.rs:5:13: 5:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22</span><span class="token plain">        switchInt(_3) -&gt; [false: bb1, otherwise: bb2]; // bb0[8]: scope 2 at main.rs:5:5: 9:6</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25</span><span class="token plain">    bb1: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26</span><span class="token plain">        _2 = const 0i32;                 // bb1[0]: scope 2 at main.rs:8:9: 8:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27</span><span class="token plain">        goto -&gt; bb3;                     // bb1[1]: scope 2 at main.rs:5:5: 9:6</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30</span><span class="token plain">    bb2: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">31</span><span class="token plain">        _2 = const 1i32;                 // bb2[0]: scope 2 at main.rs:6:9: 6:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">32</span><span class="token plain">        goto -&gt; bb3;                     // bb2[1]: scope 2 at main.rs:5:5: 9:6</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">33</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">35</span><span class="token plain">    bb3: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">36</span><span class="token plain">        StorageDead(_3);                 // bb3[0]: scope 2 at main.rs:9:5: 9:6</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">37</span><span class="token plain">        _1 = const 2i32;                 // bb3[1]: scope 2 at main.rs:11:5: 11:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">38</span><span class="token plain">        StorageDead(_2);                 // bb3[2]: scope 1 at main.rs:12:1: 12:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">39</span><span class="token plain">        StorageDead(_1);                 // bb3[3]: scope 0 at main.rs:12:1: 12:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">40</span><span class="token plain">        return;                          // bb3[4]: scope 0 at main.rs:12:2: 12:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">41</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">42</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">A few points to note and understand here : </p><ul class="css-15rlv7r"><li class="css-0"><em class="css-0">_3</em> is used for storing the results of the evaluation of the condition in the if statement.</li><li class="css-0"><code class="css-0">_3 = Eq(move _4, const 1i32)</code> is where the condition is checked.</li><li class="css-0">Call to <code class="css-0">switchInt</code> leads two 2 branches, if false goto <em class="css-0">bb1</em>, else if true goto <em class="css-0">bb2</em>.</li><li class="css-0">At the end of <em class="css-0">bb1</em> and <em class="css-0">bb2</em> there&#x27;s a goto statement that jumps to <em class="css-0">bb3</em>. </li></ul><h3 class="css-170hkfz">Loops</h3><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn main() {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut x = 1;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    loop {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">        x += 1;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">        if x&gt;5 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">            break;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">    x = 10;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">The Mir Representation :</p><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn main() -&gt; () {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut _0: ();                      // return place in scope 0 at main.rs:1:11: 1:11</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    let mut _1: i32;                     // &quot;x&quot; in scope 0 at main.rs:2:9: 2:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    let mut _2: (i32, bool);             // in scope 0 at main.rs:5:9: 5:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    let mut _3: bool;                    // in scope 0 at main.rs:7:12: 7:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">    let mut _4: i32;                     // in scope 0 at main.rs:7:12: 7:13</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    scope 1 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    bb0: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">        StorageLive(_1);                 // bb0[0]: scope 0 at main.rs:2:9: 2:14</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">        _1 = const 1i32;                 // bb0[1]: scope 0 at main.rs:2:17: 2:18</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">        goto -&gt; bb1;                     // bb0[2]: scope 1 at main.rs:4:5: 10:6</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">    bb1: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">        _2 = CheckedAdd(_1, const 1i32); // bb1[0]: scope 1 at main.rs:5:9: 5:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">        assert(!move (_2.1: bool), &quot;attempt to add with overflow&quot;) -&gt; bb2; // bb1[1]: scope 1 at main.rs:5:9: 5:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain">    bb2: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22</span><span class="token plain">        _1 = move (_2.0: i32);           // bb2[0]: scope 1 at main.rs:5:9: 5:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23</span><span class="token plain">        StorageLive(_3);                 // bb2[1]: scope 1 at main.rs:7:12: 7:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24</span><span class="token plain">        StorageLive(_4);                 // bb2[2]: scope 1 at main.rs:7:12: 7:13</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25</span><span class="token plain">        _4 = _1;                         // bb2[3]: scope 1 at main.rs:7:12: 7:13</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26</span><span class="token plain">        _3 = Gt(move _4, const 5i32);    // bb2[4]: scope 1 at main.rs:7:12: 7:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27</span><span class="token plain">        StorageDead(_4);                 // bb2[5]: scope 1 at main.rs:7:14: 7:15</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28</span><span class="token plain">        switchInt(_3) -&gt; [false: bb3, otherwise: bb4]; // bb2[6]: scope 1 at main.rs:7:9: 9:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">31</span><span class="token plain">    bb3: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">32</span><span class="token plain">        StorageDead(_3);                 // bb3[0]: scope 1 at main.rs:10:5: 10:6</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">33</span><span class="token plain">        goto -&gt; bb1;                     // bb3[1]: scope 1 at main.rs:4:5: 10:6</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">34</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">35</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">36</span><span class="token plain">    bb4: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">37</span><span class="token plain">        StorageDead(_3);                 // bb4[0]: scope 1 at main.rs:10:5: 10:6</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">38</span><span class="token plain">        _1 = const 10i32;                // bb4[1]: scope 1 at main.rs:12:5: 12:11</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">39</span><span class="token plain">        StorageDead(_1);                 // bb4[2]: scope 0 at main.rs:13:1: 13:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">40</span><span class="token plain">        return;                          // bb4[3]: scope 0 at main.rs:13:2: 13:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">41</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">42</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">Notice how the program flow for the loop looks like : </p><ul class="css-15rlv7r"><li class="css-0"><em class="css-0">bb0</em> : initializes _<em class="css-0">1</em> (x).</li><li class="css-0"><em class="css-0">bb1</em> : adds 1 to <em class="css-0">_1</em> and stores it in <em class="css-0">_2</em> (temporary variable).</li><li class="css-0"><em class="css-0">bb2</em> : checks for the if condition and stores the result in <em class="css-0">_3</em>.</li><li class="css-0"><em class="css-0">bb4</em> : <code class="css-0">x=10</code></li></ul><div class="mermaid css-0" data-processed="true"><svg id="mermaid-1598699447530" width="466.8421936035156" xmlns="http://www.w3.org/2000/svg" height="153.67462158203125" viewBox="0 0 466.8421936035156 153.67462158203125"><style>#mermaid-1598699447530{font-family:&quot;trebuchet ms&quot;,verdana,arial;font-size:16px;fill:#333;}#mermaid-1598699447530 .error-icon{fill:#552222;}#mermaid-1598699447530 .error-text{fill:#552222;stroke:#552222;}#mermaid-1598699447530 .edge-thickness-normal{stroke-width:2px;}#mermaid-1598699447530 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1598699447530 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1598699447530 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1598699447530 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1598699447530 .marker{fill:#333333;}#mermaid-1598699447530 .marker.cross{stroke:#333333;}#mermaid-1598699447530 svg{font-family:&quot;trebuchet ms&quot;,verdana,arial;font-size:16px;}#mermaid-1598699447530 .label{font-family:&quot;trebuchet ms&quot;,verdana,arial;color:#333;}#mermaid-1598699447530 .label text{fill:#333;}#mermaid-1598699447530 .node rect,#mermaid-1598699447530 .node circle,#mermaid-1598699447530 .node ellipse,#mermaid-1598699447530 .node polygon,#mermaid-1598699447530 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1598699447530 .node .label{text-align:center;}#mermaid-1598699447530 .node.clickable{cursor:pointer;}#mermaid-1598699447530 .arrowheadPath{fill:#333333;}#mermaid-1598699447530 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaid-1598699447530 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1598699447530 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1598699447530 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1598699447530 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1598699447530 .cluster text{fill:#333;}#mermaid-1598699447530 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&quot;trebuchet ms&quot;,verdana,arial;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1598699447530:root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial;}#mermaid-1598699447530 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-A LE-B" id="L-A-B" style="opacity:1"><path class="path" d="M54.703125,71L79.703125,71L104.703125,71" marker-end="url(#arrowhead24)" style="fill:none"></path><defs><marker id="arrowhead24" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-B LE-C" id="L-B-C" style="opacity:1"><path class="path" d="M151.40625,88.65591662633898L176.40625,107.55820274353027L201.90625076293944,108.05820274353029" marker-end="url(#arrowhead25)" style="fill:none"></path><defs><marker id="arrowhead25" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-C LE-D" id="L-C-D" style="opacity:1"><path class="path" d="M266.91082156129164,96.82996256776134L344.8890609741211,63.55820274353027L412.1390609741211,36.42247719241286" marker-end="url(#arrowhead26)" style="fill:none"></path><defs><marker id="arrowhead26" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-C LE-E" id="L-C-E" style="opacity:1"><path class="path" d="M272.31585284767135,113.8814131587983L344.8890609741211,126.55820274353027L412.1390609741211,126.55820274353027" marker-end="url(#arrowhead27)" style="fill:none"></path><defs><marker id="arrowhead27" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-D LE-B" id="L-D-B" style="opacity:1"><path class="path" d="M412.1390609741211,23.262783478485815L344.8890609741211,12.5L239.52265548706055,12.5L176.40625,12.5L143.75861378205127,52" marker-end="url(#arrowhead28)" style="fill:none"></path><defs><marker id="arrowhead28" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity:1"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0"><span id="L-L-A-B" class="edgeLabel L-LS-A&#x27; L-LE-B"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity:1"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0"><span id="L-L-B-C" class="edgeLabel L-LS-B&#x27; L-LE-C"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(344.8890609741211,63.55820274353027)" style="opacity:1"><g transform="translate(-42.25,-9)" class="label"><rect rx="0" ry="0" width="84.5" height="18"></rect><foreignObject width="84.5" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0"><span id="L-L-C-D" class="edgeLabel L-LS-C&#x27; L-LE-D">_3 == False</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(344.8890609741211,126.55820274353027)" style="opacity:1"><g transform="translate(-38.84375,-9)" class="label"><rect rx="0" ry="0" width="77.6875" height="18"></rect><foreignObject width="77.6875" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0"><span id="L-L-C-E" class="edgeLabel L-LS-C&#x27; L-LE-E">_3 == True</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity:1"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0"><span id="L-L-D-B" class="edgeLabel L-LS-D&#x27; L-LE-B"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="A" transform="translate(31.3515625,71)" style="opacity:1"><rect rx="0" ry="0" x="-23.3515625" y="-19" width="46.703125" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13.3515625,-9)"><foreignObject width="26.703125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0">bb0</div></foreignObject></g></g></g><g class="node default" id="B" transform="translate(128.0546875,71)" style="opacity:1"><rect rx="0" ry="0" x="-23.3515625" y="-19" width="46.703125" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13.3515625,-9)"><foreignObject width="26.703125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0">bb1</div></foreignObject></g></g></g><g class="node default" id="C" transform="translate(239.52265548706055,107.55820274353027)" style="opacity:1"><polygon points="38.116406250000004,0 76.23281250000001,-38.116406250000004 38.116406250000004,-76.23281250000001 0,-38.116406250000004" transform="translate(-38.116406250000004,38.116406250000004)" class="label-container"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-13.3515625,-9)"><foreignObject width="26.703125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0">bb2</div></foreignObject></g></g></g><g class="node default" id="D" transform="translate(435.4906234741211,27)" style="opacity:1"><rect rx="0" ry="0" x="-23.3515625" y="-19" width="46.703125" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13.3515625,-9)"><foreignObject width="26.703125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0">bb3</div></foreignObject></g></g></g><g class="node default" id="E" transform="translate(435.4906234741211,126.55820274353027)" style="opacity:1"><rect rx="5" ry="5" x="-23.3515625" y="-19" width="46.703125" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13.3515625,-9)"><foreignObject width="26.703125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap" class="css-0">bb4</div></foreignObject></g></g></g></g></g></g></svg></div><h3 class="css-170hkfz">Static variables</h3><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">static glob: u32 = 10;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">fn main() {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    let x = glob + 5;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">The Mir Representation :</p><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn  main() -&gt; () {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut _0: ();                      // return place in scope 0 at main.rs:3:11: 3:11</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    let _1: u32;                         // &quot;x&quot; in scope 0 at main.rs:4:9: 4:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    let mut _2: u32;                     // in scope 0 at main.rs:4:13: 4:17</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    let mut _3: (u32, bool);             // in scope 0 at main.rs:4:13: 4:21</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">    scope 1 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">    bb0: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">        StorageLive(_1);                 // bb0[0]: scope 0 at main.rs:4:9: 4:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">        StorageLive(_2);                 // bb0[1]: scope 0 at main.rs:4:13: 4:17</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">        _2 = (glob: u32);                // bb0[2]: scope 0 at main.rs:4:13: 4:17</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">        _3 = CheckedAdd(move _2, const 5u32); // bb0[3]: scope 0 at main.rs:4:13: 4:21</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">        assert(!move (_3.1: bool), &quot;attempt to add with overflow&quot;) -&gt; bb1; // bb0[4]: scope 0 at main.rs:4:13: 4:21</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">    bb1: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">        _1 = move (_3.0: u32);           // bb1[0]: scope 0 at main.rs:4:13: 4:21</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">        StorageDead(_2);                 // bb1[1]: scope 0 at main.rs:4:20: 4:21</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">        StorageDead(_1);                 // bb1[2]: scope 0 at main.rs:5:1: 5:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain">        return;                          // bb1[3]: scope 0 at main.rs:5:2: 5:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23</span><span class="token plain">}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25</span><span class="token plain">static  glob: u32 = {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26</span><span class="token plain">    let mut _0: u32;                     // return place in scope 0 at main.rs:1:14: 1:17</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27</span><span class="token plain">    bb0: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28</span><span class="token plain">        _0 = const 10u32;                // bb0[0]: scope 0 at main.rs:1:20: 1:22</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29</span><span class="token plain">        return;                          // bb0[1]: scope 0 at main.rs:1:1: 1:23</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">31</span><span class="token plain">}</span></div></pre></div><h2 class="css-12k12li">MIR of Heap allocated memory</h2><p class="css-1bkk5q4">The examples above only focus on stack allocations, let us take a look at heap allocated memory management.</p><h3 class="css-170hkfz">Basic example</h3><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn main() {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let x = vec![1,2,3];</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">The Mir Representation (Only the code section of interest) :</p><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn  main() -&gt; () {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut _0: ();                      // return place in scope 0 at main.rs:1:11: 1:11</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    let _1: std::vec::Vec&lt;i32&gt;;          // &quot;x&quot; in scope 0 at main.rs:2:9: 2:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    scope 1 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    bb0: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">        // ... Vector initialization</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">        goto bb1;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">    bb1: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">        drop(_1) -&gt; bb2;                 // bb1[1]: scope 0 at main.rs:3:1: 3:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">    bb2: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">        StorageDead(_1);                 // bb2[0]: scope 0 at main.rs:3:1: 3:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">        return;                          // bb2[1]: scope 0 at main.rs:3:2: 3:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">Most of the code is boilerplate code for the vector initialization. Whats important to note is the function call <code class="css-0">drop(_1)</code> where <em class="css-0">_1</em> is the variable <em class="css-0">x</em> (a Vector) in the source code. The drop function takes a value and calls the destructor of the object on it. </p><h3 class="css-170hkfz">Moved values</h3><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn main() {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let x = vec![1,2,3];</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    move_function(x);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">fn move_function(x: Vec&lt;u32&gt;){</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">The Mir Representation :</p><div class="gatsby-highlight" data-language="Rust"><pre class="prism-code language-Rust" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">fn  move_function(_1: std::vec::Vec&lt;u32&gt;) -&gt; () {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    let mut _0: ();                      // return place in scope 0 at main.rs:6:30: 6:30</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    bb0: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">        drop(_1) -&gt; bb1;                 // bb0[0]: scope 0 at main.rs:8:1: 8:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    bb1: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">        return;                          // bb1[0]: scope 0 at main.rs:8:2: 8:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">fn  main() -&gt; () {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">    let mut _0: ();                      // return place in scope 0 at main.rs:1:11: 1:11</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">    let _1: std::vec::Vec&lt;u32&gt;;          // &quot;x&quot; in scope 0 at main.rs:2:9: 2:10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">    let _5: ();                          // in scope 0 at main.rs:3:5: 3:21</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">    let mut _6: std::vec::Vec&lt;u32&gt;;      // in scope 0 at main.rs:3:19: 3:20</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">    </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">    scope 1 {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22</span><span class="token plain">    bb0: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23</span><span class="token plain">        // ... Vector initialization</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24</span><span class="token plain">        goto bb1;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27</span><span class="token plain">    bb1: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28</span><span class="token plain">        StorageLive(_6);                 // bb1[2]: scope 1 at main.rs:3:19: 3:20</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29</span><span class="token plain">        _6 = move _1;                    // bb1[3]: scope 1 at main.rs:3:19: 3:20</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30</span><span class="token plain">        _5 = const move_function(move _6) -&gt; bb2; // bb1[4]: scope 1 at main.rs:3:5: 3:21</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">31</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">32</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">33</span><span class="token plain">    bb2: {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">34</span><span class="token plain">        StorageDead(_6);                 // bb2[0]: scope 1 at main.rs:3:20: 3:21</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">35</span><span class="token plain">        StorageDead(_1);                 // bb2[2]: scope 0 at main.rs:4:1: 4:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">36</span><span class="token plain">        return;                          // bb2[3]: scope 0 at main.rs:4:2: 4:2</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">37</span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">38</span><span class="token plain">}</span></div></pre></div><p class="css-1bkk5q4">Notice how <em class="css-0">_1(x)</em> has been moved into 6 and passed as an argument to <code class="css-0">move_function</code>, which implies <em class="css-0">_1</em> is not valid in <code class="css-0">main</code> from this point. Also, note how drop is not called on <em class="css-0">_1</em> in <code class="css-0">main</code>, but drop is called in <code class="css-0">move_function</code>.</p><h2 class="css-12k12li">Potential of MIR</h2><p class="css-1bkk5q4">Developers and Researchers are working on exploring the potential of MIR and other use-cases. <a href="https://github.com/rust-lang/miri" class="css-1od09yo">miri</a>, a interpreter for Rust&#x27;s MIR is an outcome of as part of an undergraduate research course in 2015 at the University of Saskatchewan. <em class="css-0">miri</em> can run binaries rust projects and detect certain classes of undefined behavior.</p><p class="css-1bkk5q4">MIR representation opens doors for more static analysis over the source code. Due to it representing the source code in a control-flow graph, flow-sensitive analysis and profiling on the codebase will get much easier.</p></section></div><style data-emotion-css="6x8z6y">.css-6x8z6y{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide,#cbd5e0);padding-top:1rem;}.css-6x8z6y a{color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-text-decoration:none;text-decoration:none;}.css-6x8z6y a:hover{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:underline;text-decoration:underline;}.css-6x8z6y a:focus{color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-6x8z6y{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width:768px){.css-6x8z6y{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-6x8z6y"><div>© <!-- -->2020<!-- --> by <!-- -->Kanishkar J<!-- -->. All rights reserved.</div><div><a target="_blank" aria-label="Link to the RSS feed" href="/rss.xml" class="css-688a3f">RSS feed</a>, <a target="_blank" aria-label="Link to the RSS feed" href="https://hotmail.us3.list-manage.com/subscribe?u=69b142fa3c2334fe46a0c6f02&amp;id=e1162b3bd6" class="css-688a3f">Subscribe</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/rust-internals-mir";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-118cb73b15f8ba765669.js"],"app":["/app-3b11d15b71f05043dbfa.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-d731f33f2b184998b449.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx-ad8691e3556a288d115c.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-6b51371adffb6a267148.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-ce24480ad79938e1dfa7.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-77026f161af4d4c6833b.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-18310be3f443e8e33208.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx-be1202604576d930b0bb.js"]};/*]]>*/</script><script src="/polyfill-118cb73b15f8ba765669.js" nomodule=""></script><script src="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-ce24480ad79938e1dfa7.js" async=""></script><script src="/e8a65c2ffc4f8972a6a131399a6f41da01e74740-6c29ff1d0ff48596ab25.js" async=""></script><script src="/styles-c2fe8482057191dca484.js" async=""></script><script src="/app-3b11d15b71f05043dbfa.js" async=""></script><script src="/framework-376edee25eb5f5cd8260.js" async=""></script><script src="/webpack-runtime-71c978c9f8926261b3f0.js" async=""></script></body></html>